(this["webpackJsonpmy-project"]=this["webpackJsonpmy-project"]||[]).push([[0],{190:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(31),s=a.n(c),r=a(59),i=(a(111),a(113),{apiKey:"AIzaSyBr7hSA06BZ2VFFqhGn3jJOIe5hGQECru4",authDomain:"thana-d3c9c.firebaseapp.com",databaseURL:"https://thana-d3c9c-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"thana-d3c9c",storageBucket:"thana-d3c9c.appspot.com",messagingSenderId:"628489418792",appId:"1:628489418792:web:15d6fccf1475bf83e31d1d",measurementId:"G-6FE9HYZ8R9"});r.a.apps.length||r.a.initializeApp(i);var o=a(16),j=a(196),b=a(193),u=a(194),h=a(104),d=a(11),m=r.a.database();var p=function(){var e=Object(o.e)();return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(j.b,{children:Object(d.jsxs)(b.a,{layout:"vertical",onFinish:function(t){var a=m.ref("rooms").push({messages:[]});e.push("/room/".concat(a.key))},children:[Object(d.jsx)(b.a.Item,{label:"Display Name: ",name:"user",children:Object(d.jsx)(u.a,{})}),Object(d.jsx)(b.a.Item,{label:"Room : ",name:"message",children:Object(d.jsx)(u.a,{})}),Object(d.jsx)(b.a.Item,{children:Object(d.jsx)(h.a,{type:"primary",htmlType:"submit",children:"Enter"})})]})})})},l=(a(189),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,197)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))}),O=a(58),f=a(71),g=r.a.database();var x=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),r=Object(f.a)(s,2),i=r[0],j=r[1],b=Object(o.f)().id;return Object(n.useEffect)((function(){var e=g.ref("rooms/".concat(b));return e.on("value",(function(e){var t=e.val();if(t){var a=[];t.messages&&(Object.entries(t.messages).forEach((function(e){var t=Object(f.a)(e,2),n=(t[0],t[1]);return a.push(n)})),c(a))}})),function(){e.remove(),e.off()}}),[b]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("h1",{children:["Room ID : ",b]}),a.map((function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:e.message}),Object(d.jsx)("span",{children:e.time})]})})),Object(d.jsx)("input",{value:i,onChange:function(e){return j(e.target.value)}}),Object(d.jsx)("button",{onClick:function(){g.ref("rooms/".concat(b,"/messages")).push({message:i,time:Date.now()})},children:"send"})]})};s.a.render(Object(d.jsxs)(O.a,{children:[Object(d.jsx)(o.a,{path:"/",exact:!0,children:Object(d.jsx)(p,{})}),Object(d.jsx)(o.a,{path:"/room/:id",children:Object(d.jsx)(x,{})})]}),document.getElementById("root")),l()}},[[190,1,2]]]);
//# sourceMappingURL=main.1aadda62.chunk.js.map